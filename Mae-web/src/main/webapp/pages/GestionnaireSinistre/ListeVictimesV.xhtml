<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:f="http://xmlns.jcp.org/jsf/core"
	xmlns:pt="http://xmlns.jcp.org/jsf/passthrought"
	xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
	xmlns:h="http://xmlns.jcp.org/jsf/html"
	xmlns:p="http://primefaces.org/ui" xmlns:jsf="http://xmlns.jcp.org/jsf">

<h:head>
	<meta charset="UTF-8" />
	<meta http-equiv="X-UA-Compatible" content="IE=edge" />
	<meta name="viewport"
		content="width=device-width, initial-scale=1.0,maximum-scale=1" />

	<title>Insurance | Insurances type</title>


	<link
		href="http://fonts.googleapis.com/css?family=Roboto+Condensed:300,400,700|"
		rel="stylesheet" type="text/css" />
	<link
		href="#{request.contextPath}/pages/templates/fonts/font-awesome.min.css"
		rel="stylesheet" type="text/css" />
	<link
		href="#{request.contextPath}/pages/templates/fonts/lineo-icon/style.css"
		rel="stylesheet" type="text/css" />
	<link rel="stylesheet"
		href="#{request.contextPath}/pages/templates/style.css" />

	<style type="text/css">
.visu {
	background: #F5F5F5 url(images/visu.png) no-repeat 10px 15px;
	border: 1px solid #C0C0C0;
	color: #404040;
	padding: 10 10px 10px 10px;
	margin: 50px 0;
	-moz-border-radius: 10px;
	-webkit-border-radius: 10px;
	border-radius: 10px;
	-moz-box-shadow: 3px 3px 6px 0 #A9A9A9;
	-webkit-box-shadow: 3px 3px 6px #A9A9A9;
	box-shadow: 3px 3px 6px 0 #A9A9A9;
	width: 820px;
	height:500px;
}

.style-fieldset {
	border: solid 1px black;
	border-radius: 10px;
	background-color: #F2F2F2;
	width: 200px;
	padding: 10px 10px 10px 30px;
	font-family: verdana;
	font-size: 12px;
	margin-right: 90px
}

.style-legend {
	font-family: verdana;
	font-size: 14px;
	font-weight: bold;
}

.myButton {
	background-color: #44c767;
	-moz-border-radius: 30px;
	-webkit-border-radius: 30px;
	border-radius: 30px;
	border: 1px solid #18ab29;
	display: inline-block;
	cursor: pointer;
	color: #ffffff;
	font-family: Arial;
	font-size: 17px;
	padding: 16px 31px;
	text-decoration: none;
	text-shadow: 0px 1px 0px #2f6627;
}

.myButton:hover {
	background-color: #5cbf2a;
}

.myButton:active {
	position: relative;
	top: 1px;
}

.c .form2 .PG .btn {
	-webkit-border-radius: 50;
	-moz-border-radius: 50;
	border-radius: 50px;
	font-family: Arial;
	color: #ffffff;
	font-size: 50px;
	background: #3498db;
	padding: 40px 50px 40px 50px;
	text-decoration: none;
}

.c .form2 .PG .btn:hover {
	background: #3cb0fd;
	background-image: -webkit-linear-gradient(top, #3cb0fd, #3498db);
	background-image: -moz-linear-gradient(top, #3cb0fd, #3498db);
	background-image: -ms-linear-gradient(top, #3cb0fd, #3498db);
	background-image: -o-linear-gradient(top, #3cb0fd, #3498db);
	background-image: linear-gradient(to bottom, #3cb0fd, #3498db);
	text-decoration: none;
}
</style>
</h:head>
<body>

	<!-- ************************************************************** -->
	<div id="site-content">
		<header class="site-header">
		<div class="top-header">
			<div class="container">
				<a href="/pages/ALL_USER/index.xhtml" id="branding"> 
											<img src="#{request.contextPath}/pages/templates/images/logo_mae.png" alt="STAR Assurance" class="logo"/>
				

					<div class="logo-text">
						
					</div>
				</a>
				<!-- #branding -->
<div class="right-section pull-right">
							<a href="#" class="phone"><img src="../templates/images/icon-phone.png" class="icon"/> 70 020 300</a>
					
							<!-- form action="#" class="search-form">
								<input type="text" placeholder="Search..."/>
								<button type="submit"><img src="../templates/images/icon-search.png" alt=""/></button>
							</form>
							 -->
							 
							 <br>
				
					<h:form>
					

		<b> <h2>#{authBean.identityBean.identifieduser.prenom} #{authBean.identityBean.identifieduser.nom}</h2></b>
 
					</h:form>					
					</br>
							 
							 <h:form>
								<h:commandButton styleClass="btn"
								
								action="#{authBean.dologout()}" value="LogOut" image="/pages/templates/images/logout.png" />
								
								</h:form>
						</div>
			</div>
			<!-- .container -->
		</div>
		<div class="bottom-header">
			<div class="container">
				<div class="main-navigation">
					<button type="button" class="menu-toggle">
						<i class="fa fa-bars"></i>
					</button>
					<ul class="menu">
							<li class="menu-item"><a href="#{request.contextPath}/pages/GestionnaireSinistre/index.jsf">Home</a></li>
								<li class="menu-item"><a href="#{request.contextPath}/pages/GestionnaireSinistre/ListeSinistreV.jsf">Liste Des Sinistres</a></li>
								<li class="menu-item"><a href="#{request.contextPath}/pages/GestionnaireSinistre/ListeVictimesV.jsf">Liste Des Victimes</a></li>
								<li class="menu-item"><a href="#{request.contextPath}/pages/GestionnaireSinistre/ListeBeneficiairesV.jsf">Liste Des Bénéficiaires</a></li>
								<li class="menu-item"><a href="#{request.contextPath}/pages/GestionnaireSinistre/ListeRentesTotal.jsf">Liste Des Rentes</a></li>
								<li class="menu-item"><a href="#{request.contextPath}/pages/GestionnaireSinistre/ListePMTotal.jsf">Liste Des Provisions Mathématiques</a></li>
								<li class="menu-item"><a href="#{request.contextPath}/pages/GestionnaireSinistre/pdf.jsf">PDF</a></li>
								
					</ul>
					<!-- .menu -->
				</div>
				<!-- .main-navigation -->


			</div>
		</div>
		</header>
	</div>

	<!-- .top-header -->
	<!-- ***************************************************************** -->


	<center class="c">

		
			<div class="visu border" style="background: url('images.jpg');">

				<div class="logo-text" style="margin-top: 40px">
					<h1 class="site-title" style="margin-top: 50px">
						LISTE DE TOUTES LES VICTIMES
						
					</h1>
				</div>
				
<!-- ******************************************************************************************************************* -->

	<h:form id="tra"> 
                      <center><h2><font color="black"><b><i>VICTIME</i></b></font></h2></center>
                      <p:growl id="growl"></p:growl>
     <p:dataTable value="#{victimeBean.victimes}" cellpadding="10" cellspacing="6" var="victime" 
     									rows="8" 
     									filteredValue="#{victimeBean.victimesFiltred}"
     									paginator="true" 
     									paginatorTemplate="{CurrentPageReport} {FirstPageLink} {PreviousPageLink} {PageLinks} {NextPageLink} {LastPageLink} {RowsPerPageDropdown}">       
        <p:column headerText="CIN" filterBy="#{victime.cin_v}">
          #{victime.cin_v}
     
     </p:column>
     
      <p:column headerText="SINISTRE">
          #{victime.sinistreV.numero}
     
     </p:column>
      <p:column headerText="NAISSANCE" >
          #{victime.naissance}
     
     </p:column>
      <p:column headerText="DECES" >
          #{victime.deces}
     
     </p:column>
      <p:column headerText="VICTIME" >
          #{victime.nom}  #{victime.prenom}
     
     </p:column>
      <p:column headerText="PROFESSION" >
          #{victime.profession}
     
     </p:column>
      <p:column headerText="REVENU" >
          #{victime.revenu}
     
     </p:column>
      <p:column headerText="GESTIONNAIRE" >
          #{victime.gestionnaireSinistre.prenom} #{victime.gestionnaireSinistre.nom}
     
     </p:column>
    
     <p:column>
      <f:facet name="header"><h3><b><font color="blue">Bénéficiaire</font></b></h3></f:facet>
									<p:commandButton  
										style="background:url(#{request.contextPath}/templates/images/money.png)" 
										styleClass="ad" action="#{victimeBean.IdV(victime)}"
										value="Ajouter Bénéficiaire"  update=":form" oncomplete="PF('benef').show()">
										
										<f:setPropertyActionListener value="#{victime}"
											target="#{victimeBean.victime}" />
     </p:commandButton>
     </p:column>
     
    
      <p:column>
      <f:facet name="header"><h3><b><font color="blue">Update</font></b></h3></f:facet>
									<p:commandButton
										style="background:url(#{request.contextPath}/templates/images/money.png)" 
										styleClass="ad" action=" "
										value="Update" update=":form1" oncomplete="PF('victime').show()">
										
										<f:setPropertyActionListener value="#{victime}"
											target="#{victimeBean.victime}" />
										
											
     </p:commandButton>
     </p:column>
     
      <p:column>
      <f:facet name="header"><h3><b><font color="blue">Delete</font></b></h3></f:facet>
									<h:commandButton styleClass="btn btn-danger btn-block btn-flat"
										action="#{victimeBean.doDelete(victime)}" image="/pages/templates/images/001-delete.png" update="@form">
     </h:commandButton>
     </p:column>
      
</p:dataTable>
              
         
    <br/>
     </h:form>
     <br/>
     
 
			
     <div class="container">
       			       		
       			       		<p:dialog widgetVar="benef" header="Gestion Bénéficiaire">
    <h:form id="form">
     <p:panelGrid columns="1" id="panel">
     
    <h:outputText value=" CIN:"
						p:style="width: 100px;font-weight:bold" id="fname" for="name" />
						
					<p:inputText id="name" required="true" requiredMessage="CIN"
						value="#{victimeBean.cinb}"
						style="width:200px" placeholder="CIN">
						<p:ajax event="blur" update="mname fname"></p:ajax>
						</p:inputText>
						<p:message for="name" id="mname"/>
						
						<h:outputText value="PRENOM" id="cin" for="name10"
						p:style="width: 100px;font-weight:bold"  />
						
					<p:inputText id="name10" required="true" requiredMessage="PRENOM"
					 value="#{victimeBean.prenom}"
						style="width:200px" placeholder="PRENOM">
						<p:ajax event="blur" update="ctryi cin"></p:ajax>
						</p:inputText>
						<p:message for="name10" id="ctryi"></p:message>
						
								<h:outputText value="Nom" id="cy" for="name4"
						p:style="width: 100px;font-weight:bold"  />
						
					<p:inputText id="name4" required="true" requiredMessage="Nom"
					 value="#{victimeBean.nom}"
						style="width:200px" placeholder="Nom">
						<p:ajax event="blur" update="ctry cy"></p:ajax>
						</p:inputText>
						<p:message for="name4" id="ctry"></p:message>
						
					<h:outputText value="Date Naissance" id="lname" for="name1"
						p:style="width: 100px;font-weight:bold" />
						
					<p:calendar id="name1" required="true" pattern="dd/MM/yyyy" maxdate="#{now}" 
					requiredMessage="Date Naissance" 
					value="#{victimeBean.naissance}"
						style="width:200px" placeholder="Date Naissance">
						<p:ajax event="blur" update="nname lname"></p:ajax>
						</p:calendar>
						<p:message for="name1" id="nname"/>
						
					 
					
					<p:outputLabel for="basic12" value="POSITION:" />
        <p:selectOneListbox id="basic12" required="true"
						value="#{victimeBean.etat}" style="width:200px" >
						<f:selectItem itemLabel="Veuve" itemValue="Veuve" />
						<f:selectItem itemLabel="Pere" itemValue="Pere" />
						<f:selectItem itemLabel="Mere" itemValue="Mere" />
						<f:selectItem itemLabel="Fils" itemValue="Fils" />
						<f:selectItem itemLabel="Fille" itemValue="Fille" />
					</p:selectOneListbox>
        
					 
					
					 <p:outputLabel for="basic10" value="ETAT CONJOINT:" />
       <p:selectOneListbox required="true"
						value="#{victimeBean.conjoint}" style="width:200px" id="basic10">
						<f:selectItem itemLabel="0" itemValue="0" />
						<f:selectItem itemLabel="1" itemValue="1" />
					</p:selectOneListbox>
        
						
					<h:outputText value="0 : Conjoint Décédé || 1 : Conjoint Vivant"/>
					</p:panelGrid>
					<h:panelGrid columns="1">
					<h:commandButton  image="/pages/templates/images/add1.png"  action="#{victimeBean.addBeneficiaire()}" update=":tra" oncomplete="PF('benef').hide()"  /> 		
						</h:panelGrid>
						</h:form>
     </p:dialog>
       			       		
       			       			       		<!--  	<p:panel header="Gestion Sinistre">-->
     
    
<p:dialog widgetVar="victime" header="Gestion Victime">
    
     <h:form id="form1">
     <p:panelGrid columns="1" id="panel">
     
      <!--h:form action="#non" method="post" class="fcorn-register container"> -->
                                        
                                        
                                          
                                          <h:outputText value="CIN" id="cin" for="name10"
						p:style="width: 100px;font-weight:bold" />

					<p:inputText id="name10" required="true" requiredMessage="CIN"
						value="#{victimeBean.victime.cin_v}" style="width:200px"
						placeholder="CIN">
						<p:ajax event="blur" update="ctryi cin"></p:ajax>
					</p:inputText>
					<p:message for="name10" id="ctryi"></p:message>

					<h:outputText value="N° Sinistre" id="avps" for="name12s"
						p:style="width: 100px;font-weight:bold" />

					<p:inputText id="name12s" required="true"
						requiredMessage="N° Sinistre"
						converterMessage="Champ de type string"
						value="#{victimeBean.victime.sinistreV.numero}" style="width:200px"
						placeholder="N° Sinistre">
						<p:ajax event="blur" update="acvps avps"></p:ajax>
					</p:inputText>
					<p:message for="name12s" id="acvps"></p:message>

					<h:outputText value="Nom" id="cy" for="name4"
						p:style="width: 100px;font-weight:bold" />

					<p:inputText id="name4" required="true" requiredMessage="Nom"
						value="#{victimeBean.victime.nom}" style="width:200px" placeholder="Nom">
						<p:ajax event="blur" update="ctry cy"></p:ajax>
					</p:inputText>
					<p:message for="name4" id="ctry"></p:message>

					<h:outputText value="Prenom" id="av" for="name6"
						p:style="width: 100px;font-weight:bold" />

					<p:inputText id="name6" required="true" requiredMessage="Prenom"
						converterMessage="Champ de type string"
						value="#{victimeBean.victime.prenom}" style="width:200px"
						placeholder="Prenom">
						<p:ajax event="blur" update="acv av"></p:ajax>
					</p:inputText>
					<p:message for="name6" id="acv"></p:message>

					<h:outputText value="Date Naissance" id="lname" for="name1"
						p:style="width: 100px;font-weight:bold" />

					<p:calendar id="name1" required="true" pattern="dd/MM/yyyy"
						maxdate="#{now}" requiredMessage="Date Naissance"
						value="#{victimeBean.victime.naissance}" style="width:200px"
						placeholder="Date Naissance">
						<p:ajax event="blur" update="nname lname"></p:ajax>
					</p:calendar>
					<p:message for="name1" id="nname" />

					<h:outputText value="Profession" id="avp" for="name12"
						p:style="width: 100px;font-weight:bold" />

					<p:inputText id="name12" required="true"
						requiredMessage="Profession"
						converterMessage="Champ de type string"
						value="#{victimeBean.victime.profession}" style="width:200px"
						placeholder="Profession">
						<p:ajax event="blur" update="acvp avp"></p:ajax>
					</p:inputText>
					<p:message for="name12" id="acvp"></p:message>

					<h:outputText value="Revenu Annuel" id="avr" for="name13"
						p:style="width: 100px;font-weight:bold" />

					<p:inputText id="name13" required="true"
						requiredMessage="Revenu Annuel"
						converterMessage="Champ de type string"
						value="#{victimeBean.victime.revenu}" style="width:200px"
						placeholder="Revenu Annuel">
						<p:ajax event="blur" update="acvr avr"></p:ajax>
					</p:inputText>
					<p:message for="name13" id="acvr"></p:message>

					<h:outputText value="Date Deces" id="lnamed" for="name1d"
						p:style="width: 100px;font-weight:bold" />

					<p:calendar id="name1d" required="true" pattern="dd/MM/yyyy"
						maxdate="#{now}" requiredMessage="Date Deces"
						value="#{victimeBean.victime.deces}" style="width:200px"
						placeholder="Date Deces">
						<p:ajax event="blur" update="nnamed lnamed"></p:ajax>
					</p:calendar>
					<p:message for="name1d" id="nnamed" />
					</p:panelGrid>
					<h:panelGrid columns="1">
						
							<h:commandButton image="/pages/templates/images/add1.png"
								
								action="#{victimeBean.doUpdate()}" update=":tra" oncomplete="PF('victime').hide()"  />
								
								</h:panelGrid>
     </h:form> 
     
     </p:dialog>
     
     
     		<!--</p:panel>-->
     	
     		     </div>
     		    
	
<!--  -->			
			</div>
		
	</center>


</body>
</html>